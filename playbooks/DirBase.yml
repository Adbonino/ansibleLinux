---
- name: "muestra el directorio base de un listado de PATH absolutos"
  hosts: localhost
  become: true
  vars:
      files:
       - /var/www/html/v1/intrenet/instituto/file1
       - /var/www/html/v1/intrenet/instituto/file2
       - /var/www/html/v1/intranet/otraclase/fiel4
       - /var/www/html/v1/intranet/instituto/file1
       - /var/www/html/v1/intranet/otraclase/fiel5
    
 tasks:
    - name: Extraer directorio base de cada archivo
      set_fact:
        base_dirs: "{{ base_dirs | default([]) + [item | dirname] }}"
      loop: "{{ files }}"
      
    - name: Eliminar duplicados de directorios base
      set_fact:
        unique_base_dirs: "{{ base_dirs | unique }}"
      
    - name: Mostrar directorios base Ãºnicos
      debug:
        msg: "Directorio base: {{ item }}"
      loop: "{{ unique_base_dirs }}"

